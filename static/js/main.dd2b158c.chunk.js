(this["webpackJsonpreact-project-4"]=this["webpackJsonpreact-project-4"]||[]).push([[0],{13:function(e,t,n){"use strict";n.r(t);var c=n(6),s=n(7),i=n(2),a=n(1),l=n(15),o=n(0);function r(e){var t=Object(a.useState)(0),n=Object(i.a)(t,2),c=n[0],s=n[1],l=e.info;return l?Object(o.jsxs)("div",{className:"item",children:[Object(o.jsxs)("div",{className:"item-info",children:[Object(o.jsx)("h2",{children:l.name}),Object(o.jsx)("p",{children:l.desc})]}),Object(o.jsxs)("div",{className:"item-quantity",children:[Object(o.jsx)("button",{className:"item-less",disabled:0===c,onClick:function(){c>0&&s(c-1)},children:"-"}),Object(o.jsx)("h3",{className:"item-total",children:c||""}),Object(o.jsx)("button",{className:"item-more",onClick:function(){s(c+1)},children:"+"})]})]}):null}function j(e){return Object(o.jsx)("ul",{className:"shop",children:e.items.map((function(t,n){return Object(o.jsxs)("li",{children:[Object(o.jsx)(r,{info:t}),Object(o.jsx)("button",{onClick:function(){return e.onRemove(t.id)},className:"btn-delete",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]},n)}))})}function u(e){return Object(o.jsxs)("form",{onSubmit:e.onSubmit,children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"name",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: "}),Object(o.jsx)("input",{type:"text",id:"name",value:e.name,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",className:"textfield",onChange:e.onNameChange})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"desc",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: "}),Object(o.jsx)("input",{type:"text",id:"desc",value:e.desc,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",className:"textfield",onChange:e.onDescChange})]}),Object(o.jsxs)("div",{className:"form-footer",children:[Object(o.jsx)("div",{className:"validation",children:0!==e.valid.length?e.valid:null}),Object(o.jsx)("input",{type:"submit",className:"btn-basic",value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})}function d(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)((function(){var e=localStorage.getItem("items");return null!==e?JSON.parse(e):[]})),d=Object(i.a)(r,2),b=d[0],m=d[1],h=Object(a.useState)(""),O=Object(i.a)(h,2),f=O[0],x=O[1],p=Object(a.useState)(""),v=Object(i.a)(p,2),g=v[0],N=v[1];return Object(a.useEffect)((function(){localStorage.setItem("items",JSON.stringify(b))}),[b]),Object(a.useEffect)((function(){0===b.length?document.title="\u0422\u043e\u0432\u0430\u0440\u044b \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442":1===b.length?document.title="\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043e\u0434\u0438\u043d \u0442\u043e\u0432\u0430\u0440":document.title="\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e ".concat(b.length," \u0442\u043e\u0432\u0430\u0440\u043e\u0432")})),Object(a.useEffect)((function(){return console.log(b)}),[b]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(u,{name:f,desc:g,onNameChange:function(e){x(e.target.value)},onDescChange:function(e){N(e.target.value)},onSubmit:function(e){e.preventDefault();var t={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({name:f,desc:g})};if(""===f||""===g)c("Fields should not be empty!");else{fetch("https://online-shop.com/admin/items",t).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){console.error(e)}));var n={id:Object(l.a)(),name:f,desc:g};m([].concat(Object(s.a)(b),[n])),x(""),N(""),c("")}},valid:n}),0===b.length?Object(o.jsx)("div",{children:Object(o.jsx)("p",{children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u0435\u0440\u0432\u044b\u0439 \u0442\u043e\u0432\u0430\u0440"})}):null,Object(o.jsx)(j,{items:b,onRemove:function(e){var t=b.filter((function(t){return t.id!==e}));m(t)}})]})}function b(){return Object(o.jsx)(d,{})}Object(c.render)(Object(o.jsx)(b,{}),document.querySelector("#root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.dd2b158c.chunk.js.map