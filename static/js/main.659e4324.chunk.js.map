{"version":3,"sources":["Item/index.tsx","ItemList/index.tsx","AddItem/index.tsx","Shop/index.tsx","index.tsx"],"names":["Item","props","useState","total","setTotal","info","className","name","desc","disabled","onClick","ItemList","items","map","item","index","onRemove","id","AddItem","onSubmit","htmlFor","type","value","placeholder","onChange","onNameChange","onDescChange","valid","length","Shop","setInvalid","itemValue","localStorage","getItem","JSON","parse","itemsList","setItemsList","setName","setDescription","useEffect","setItem","stringify","document","title","console","log","event","target","preventDefault","newItem","uuidv4","newList","filter","App","render","querySelector"],"mappings":"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","file":"static/js/main.659e4324.chunk.js","sourcesContent":["import { useState } from 'react';\nimport * as React from 'react';\n\nexport default function Item(props: { info: any }) {\n  const [total, setTotal] = useState(0);\n\n  const { info } = props;\n\n  function handleAddClick() {\n    setTotal(total + 1);\n  }\n\n  function handleRemoveClick() {\n    if (total > 0) {\n      setTotal(total - 1);\n    }\n  }\n\n  if (!info) {\n    return null;\n  }\n\n  return (\n    <div className=\"item\">\n      <div className=\"item-info\">\n        <h2>{info.name}</h2>\n        <p>{info.desc}</p>\n      </div>\n      <div className=\"item-quantity\">\n        <button className=\"item-less\" disabled={total === 0} onClick={handleRemoveClick}>\n          -\n        </button>\n        <h3 className=\"item-total\">{total ? total : ''}</h3>\n        <button className=\"item-more\" onClick={handleAddClick}>\n          +\n        </button>\n      </div>\n    </div>\n  );\n}\n","import Item from '../Item';\nimport * as React from 'react';\n\nexport default function ItemList(props: { items: any[]; onRemove: (arg0: any) => void }) {\n  return (\n    <ul className=\"shop\">\n      {props.items.map((item, index) => (\n        <li key={index}>\n          <Item info={item} />\n          <button onClick={() => props.onRemove(item.id)} className=\"btn-delete\">\n            Удалить\n          </button>\n        </li>\n      ))}\n    </ul>\n  );\n}\n","import * as React from 'react';\n\nexport default function AddItem(props: {\n  onSubmit: React.FormEventHandler<HTMLFormElement> | undefined;\n  name: string | number | readonly string[] | undefined;\n  onNameChange: React.ChangeEventHandler<HTMLInputElement> | undefined;\n  desc: string | number | readonly string[] | undefined;\n  onDescChange: React.ChangeEventHandler<HTMLInputElement> | undefined;\n  valid: string;\n}) {\n  return (\n    <form onSubmit={props.onSubmit}>\n      <div>\n        <label htmlFor=\"name\">Название: </label>\n        <input type=\"text\" id=\"name\" value={props.name} placeholder=\"Название товара\" className=\"textfield\" onChange={props.onNameChange} />\n      </div>\n      <div>\n        <label htmlFor=\"desc\">Описание: </label>\n        <input type=\"text\" id=\"desc\" value={props.desc} placeholder=\"Описание товара\" className=\"textfield\" onChange={props.onDescChange} />\n      </div>\n      <div className=\"form-footer\">\n        <div className=\"validation\">{props.valid.length !== 0 ? props.valid : null}</div>\n        <input type=\"submit\" className=\"btn-basic\" value=\"Добавить\" />\n      </div>\n    </form>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport ItemList from '../ItemList';\nimport AddItem from '../AddItem';\nimport * as React from 'react';\n\nexport default function Shop() {\n  const [valid, setInvalid] = useState('');\n  const [itemsList, setItemsList] = useState(() => {\n    const itemValue = localStorage.getItem('items');\n    return itemValue !== null ? JSON.parse(itemValue) : [];\n  });\n  const [name, setName] = useState('');\n  const [desc, setDescription] = useState('');\n\n  useEffect(() => {\n    localStorage.setItem('items', JSON.stringify(itemsList));\n  }, [itemsList]);\n\n  useEffect(() => {\n    if (itemsList.length === 0) {\n      document.title = `Товары отсутствуют`;\n    } else if (itemsList.length === 1) {\n      document.title = `Добавлен один товар`;\n    } else {\n      document.title = `Добавлено ${itemsList.length} товаров`;\n    }\n  });\n\n  function handleAddName(event: { target: { value: React.SetStateAction<string> } }) {\n    setName(event.target.value);\n  }\n\n  function handleAddDesc(event: { target: { value: React.SetStateAction<string> } }) {\n    setDescription(event.target.value);\n  }\n\n  function submitHandler(event: { preventDefault: () => void }) {\n    event.preventDefault();\n    if (name === '' || desc === '') {\n      setInvalid('Fields should not be empty!');\n    } else {\n      const newItem = { id: uuidv4(), name, desc };\n      setItemsList([...itemsList, newItem]);\n      setName('');\n      setDescription('');\n      setInvalid('');\n    }\n  }\n\n  function handleRemove(id: any) {\n    const newList = itemsList.filter((item: { id: any }) => item.id !== id);\n    setItemsList(newList);\n  }\n\n  useEffect(() => console.log(itemsList), [itemsList]);\n\n  return (\n    <>\n      <AddItem name={name} desc={desc} onNameChange={handleAddName} onDescChange={handleAddDesc} onSubmit={submitHandler} valid={valid} />\n      {itemsList.length === 0 ? (\n        <div>\n          <p>Добавьте первый товар</p>\n        </div>\n      ) : null}\n      <ItemList items={itemsList} onRemove={handleRemove} />\n    </>\n  );\n}\n","import { render } from 'react-dom';\nimport Shop from './Shop';\nimport * as React from 'react';\n\nfunction App() {\n  return <Shop />;\n}\n\nrender(<App />, document.querySelector('#root'));\n"],"sourceRoot":""}